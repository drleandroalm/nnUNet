{"id":"nnUNet-10j","title":"Phase 3: Prototype Model I/O voxel meshing (MDLVoxelArray.mesh(using:))","description":"Validate feasibility/performance of generating surface meshes from segmentation volumes using ModelIO.MDLVoxelArray.mesh(using:). Include voxel ingest strategy, ROI cropping, and output as MDLMesh for export to OBJ/PLY (and STL fallback if needed).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T01:34:41.242065-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T01:34:41.242065-03:00"}
{"id":"nnUNet-1g4","title":"Phase 2: Sliding-window inference + stitching (Core ML)","description":"Implement nnUNet-style sliding window inference for the Core ML model (patch extraction, step size, optional Gaussian weighting, optional mirroring TTA/ensemble flags) and produce logits/segmentation volumes with correct shapes.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T00:08:42.179703-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T00:08:42.179703-03:00"}
{"id":"nnUNet-2ln","title":"Phase 3: Mesh persistence + Niivue integration (StudyStore/.mesh + niivue:// URLs)","description":"Persist generated meshes as StudyStore items (StudyItemKind.mesh) and load into Niivue via WebViewManager.loadMeshesFromUrls using niivue://app/studies/\u003cstudyID\u003e/items/\u003citemID\u003e/\u003cfileName\u003e. Ensure WKURLSchemeHandler serves mesh payloads and verify overlay alignment conventions.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T01:34:51.478003-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T01:34:51.478003-03:00"}
{"id":"nnUNet-4tx","title":"Audit Phase 2 plan: iOS segmentation module","description":"Section-by-section audit of docs/plans/2026-01-09-phase2-ios-segmentation-module.md against nnUNet v2 + niivue-ios sources, with Apple API claims verified via Cupertino; produce 09-01-26_GPT_Analysis_Report_on_phase2-ios-segmentation-module.md and file follow-up issues.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T23:54:37.130501-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T00:09:51.731156-03:00","closed_at":"2026-01-10T00:09:51.731156-03:00","close_reason":"Closed"}
{"id":"nnUNet-8io","title":"Phase 2: nnUNet-equivalent postprocessing inversion + NIfTI writer","description":"Implement nnUNet export semantics on-device: resample logits back to crop space, argmax to labels, reinsert crop bbox, inverse transpose, and write a valid NIfTI (.nii or .nii.gz) segmentation overlay aligned with the source volume.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T00:08:51.38997-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T00:08:51.38997-03:00"}
{"id":"nnUNet-aal","title":"Phase 2: Core ML model conversion + IO contract","description":"Define and document the Core ML model contract (input/output names, axis order, dtype, patch size, normalization range) and implement a reproducible conversion pipeline from nnUNet/PyTorch (with device benchmarking + backend fallback notes).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T00:08:33.631906-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T00:08:33.631906-03:00"}
{"id":"nnUNet-cy8","title":"Phase 2: Persist segmentation to StudyStore + load overlay in Niivue","description":"Extend StudyStore with an API to append segmentation items to an existing study, store outputs in item payload dirs, and load overlays via WebViewManager.addVolumesFromUrls using correct niivue://app/studies/... URLs (plus colormap/opacity controls).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-10T00:09:00.616329-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T00:09:00.616329-03:00"}
{"id":"nnUNet-df6","title":"Phase 3: Fix meshing plan (marching cubes tables, iOS types, world-space mapping, Model I/O export)","description":"The current Phase 3 plan contains non-compiling and/or iOS-incompatible sample code (e.g., edgeTable typed as UInt8 but contains 0x109; missing triTable; NSColor usage in iOS code; placeholder/incorrect material helper return types). It also lacks a concrete requirement for mapping voxel-space vertices into patient/world space using spacing/origin/orientation, and should prefer Model I/O for STL/OBJ export.\\n\\nAcceptance:\\n- Update Phase 3 plan to use correct lookup table types and include/point to a complete triTable solution.\\n- Make sample code iOS-correct (UIColor/SwiftUI Color, no macOS-only types).\\n- Add explicit world/patient-space coordinate mapping requirements using preprocessing metadata.\\n- Specify Model I/O export path (MDLAsset.export(to:)) and validation steps for .stl/.obj.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T05:56:15.623169-03:00","created_by":"leandroalmeida","updated_at":"2026-01-11T05:56:15.623169-03:00"}
{"id":"nnUNet-e7n","title":"Build Python↔Swift preprocessing validation harness (golden fixtures)","description":"Create a reproducible validation harness: generate small fixture inputs, run nnUNet preprocessing in Python, export intermediate outputs + metadata, and validate Swift (CPU and GPU) outputs per-stage with defined tolerances. This is required to claim exact match.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T22:35:07.880379-03:00","created_by":"leandroalmeida","updated_at":"2026-01-11T05:57:08.039083-03:00","closed_at":"2026-01-11T05:57:08.039083-03:00","close_reason":"Closed"}
{"id":"nnUNet-f8w","title":"Audit Phase 1 Metal preprocessing pipeline plan","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T22:21:08.7548-03:00","created_by":"leandroalmeida","updated_at":"2026-01-09T22:43:31.88486-03:00","closed_at":"2026-01-09T22:43:31.88486-03:00","close_reason":"Closed"}
{"id":"nnUNet-j8v","title":"Audit hybrid integration plan: fix niivue:// routing + baseline + SPM notes","description":"Based on docs/reports/2026-01-11-hybrid-segmentation-integration-design-audit-report.md: (1) plan uses niivue://preprocessed host but router enforces host==app; decide URL form + implement router/handler changes, (2) plan references wrong iOS repo path (should be /Users/leandroalmeida/niivue-ios-foundation/NiiVue) and assumes StudyStore/studies routing that doesn't exist; reconcile baseline, (3) nnUNetPreprocessing has path deps (../DICOM-Decoder, ../MTK) and iOS 26 target; update plan with packaging + target strategy, (4) fix CTPreprocessingParameters Codable tuple, and (5) call out missing Swift/React bridge functions in upgraded app.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T17:21:47.791656-03:00","created_by":"leandroalmeida","updated_at":"2026-01-11T17:22:13.61157-03:00"}
{"id":"nnUNet-k3b","title":"Implement nnUNet-equivalent resampling (cubic+edge+separate-Z)","description":"Design and implement resampling that matches nnUNet v2 default_resampling.py semantics: skimage.resize(order=3, mode='edge', anti_aliasing=False) for data; determine_do_sep_z_and_axis logic; map_coordinates-based axis resampling with align_corners=False mapping; and test against Python golden fixtures.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T22:34:52.943857-03:00","created_by":"leandroalmeida","updated_at":"2026-01-11T05:57:08.00958-03:00","closed_at":"2026-01-11T05:57:08.00958-03:00","close_reason":"Closed"}
{"id":"nnUNet-oam","title":"Extend preprocessing param extraction to include resampling spec","description":"Update the Phase 1 parameter extraction approach to export all nnUNet plan fields needed for exact preprocessing match, including resampling_fn_data/resampling_fn_data_kwargs (order, order_z, force_separate_z, threshold) and any required transpose/cropping metadata. Support canonical nnUNet folder layouts (nnUNet_preprocessed) and explicit file paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T22:34:41.179226-03:00","created_by":"leandroalmeida","updated_at":"2026-01-11T05:57:08.065147-03:00","closed_at":"2026-01-11T05:57:08.065147-03:00","close_reason":"Closed"}
{"id":"nnUNet-pt7","title":"Phase 1 plan: fix Swift/Metal compile + runtime issues","description":"Address issues in docs/plans/2026-01-09-phase1-metal-preprocessing-pipeline.md examples: actor/await correctness, Float vs Double constant uploads, correct texture usage flags, correct FP16 readback, remove/replace undocumented APIs (e.g. texture3DDescriptor), and align tests with Metal API semantics.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-09T22:34:16.710659-03:00","created_by":"leandroalmeida","updated_at":"2026-01-09T22:34:16.710659-03:00"}
{"id":"nnUNet-rq8","title":"Audit Phase 3: 3D mesh generation plan","description":"Audit docs/plans/2026-01-09-phase3-3d-mesh-generation.md vs nnUNet + Niivue iOS app; ground Apple APIs via Cupertino; produce report 09-01-26_Analysis_Report_on_phase3-3d-mesh-generation.md.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T01:32:18.884444-03:00","created_by":"leandroalmeida","updated_at":"2026-01-10T01:33:16.560697-03:00","closed_at":"2026-01-10T01:33:16.560697-03:00","close_reason":"Closed"}
{"id":"nnUNet-sj5","title":"Phase 2: Align deployment targets (Niivue ↔ nnUNetPreprocessing ↔ MTK)","description":"Niivue iOS app currently reports IPHONEOS_DEPLOYMENT_TARGET=16.4, while nnUNetPreprocessing depends on MTK (iOS 17+/macOS 14+) and nnUNetPreprocessing currently declares iOS 26+/macOS 26+ in Package.swift. Before Phase 2 integration, decide the supported minimum OS versions and make them consistent across: Niivue app target(s), nnUNetPreprocessing Package.swift, and transitive dependencies.\\n\\nAcceptance:\\n- Document the chosen min iOS/macOS targets (and rationale) in Phase 2 plan and/or docs/reports.\\n- Update project/package settings accordingly (Niivue target, nnUNetPreprocessing Package.swift).\\n- Verify Xcode builds Niivue with nnUNetPreprocessing integrated, and swift test passes in nnUNet.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T05:56:03.373941-03:00","created_by":"leandroalmeida","updated_at":"2026-01-11T05:56:03.373941-03:00"}
{"id":"nnUNet-xeo","title":"Define iOS CT volume data contract (DICOM→HU→voxel buffer)","description":"Specify and implement (or decide) how CT DICOM series become a native voxel buffer for preprocessing: slice sorting, spacing derivation, RescaleSlope/Intercept HU conversion, axis conventions/orientation, background-zeroing implications for nnUNet crop-to-nonzero, and integration with the existing WKWebView/Niivue architecture.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-09T22:34:30.732434-03:00","created_by":"leandroalmeida","updated_at":"2026-01-09T22:34:30.732434-03:00"}
